<div class="bg-secondary bg-opacity-25 rounded-4 px-3 py-2 d-flex align-items-center w-100 h-100 shadow-sm">

  <!-- side bar toggle -->
  <div>
    <button class="btn border-0" (click)="toggleSideMenuVisibility()">
      <i class="bi bi-list h4 m-0"></i>
    </button>
  </div>
  <!-- side bar toggle -->

  <!-- title -->
  <div class=" d-flex align-items-center ms-2">
    <h1 class="h5 m-0 text-dark text-display">
      Application
    </h1>
  </div>
  <!-- title -->

  <!-- search button -->
  <div class="d-none ms-auto">
    <button class="btn btn-secondary bg-secondary bg-opacity-25 text-dark border-0 rounded-4 d-flex align-items-center">
      <i class="bi bi-search"></i>
      <input type="text" class="form-control p-0 border-0 shadow-none bg-transparent ms-2" hidden>
    </button>
  </div>
  <!-- search button -->

  <!-- theme -->
  <div class="d-none d-lg-flex ms-auto">
    <button class="btn btn-secondary bg-secondary bg-opacity-25 text-dark border-0 rounded-4 mx-3 me-4" (click)="changeTheme()">
      <i class="bi bi-brightness-high"></i>
    </button>
  </div>
  <!-- theme -->

  <!-- app list -->
  <div class="d-flex d-lg-none ms-auto">
    <button class="btn btn-secondary bg-secondary bg-opacity-25 text-dark border-0 rounded-4 mx-3 me-2"
      (click)="toggleAppListMenuVisibility()">
      <i class="bi bi-app-indicator"></i>
    </button>
  </div>
  <!-- app list -->

  <!-- profile -->
  <button #profileDropDown class="col-auto btn border-0 ms-1 ms-lg-0" dir="rtl">

    <!-- profile main button -->
    <div
      class="col-auto d-flex align-items-center {{isProfileDropDownVisible?'bg-dark text-white text-opacity-75':null}}"
      style="padding: 6px;border-radius: 8px;" dir="ltr" (click)="isProfileDropDownVisible=!isProfileDropDownVisible">

      <!-- profile detail -->
      <div class="d-none d-lg-flex flex-column align-items-start me-3 ms-lg-1">
        <span>
          {{user.first_name==null || user.last_name==null ? user.email : (user.first_name + ' ' + user.last_name)}}
        </span>
        <small>{{userRole.name}}</small>
      </div>
      <!-- profile detail -->

      <!-- profile image -->
      <div class="bg-secondary bg-opacity-25 px-2 d-flex align-items-center justify-content-center rounded me-lg-1"
        style="aspect-ratio: 1;height: 42px;width:42px">
        <span>
          DKX
        </span>
      </div>
      <!-- profile image -->

    </div>
    <!-- profile main button -->

    <!-- profile drop down -->
    @if(isProfileDropDownVisible){

    <!-- backframe -->
    <div class="position-absolute bg-dark bg-opacity-10 w-100 h-100 top-0 start-0"
      (click)="isProfileDropDownVisible=!isProfileDropDownVisible">
    </div>

    <!-- main container -->
    <div class="position-absolute mt-2" [style]="{'min-width':profileToggleWidth}">
      <div class="position-relative row g-0 mt-3 w-100 bg-dark shadow-sm px-2 py-2 rounded-3">
        <!-- profile item -->
        <button class="btn col-12 text-start bg-secondary bg-opacity-10 text-light text-opacity-50">
          Profile
          @if(user.first_name==null || user.last_name==null){
          <small class="text-danger text-opacity-75"> incomplete</small>
          }
        </button>
        <!-- profile item -->

        <!-- logout -->
        <button class="btn col-12 mt-2 text-start bg-danger" (click)="logout()">
          Logout
        </button>
        <!-- logout -->

      </div>
    </div>

    }
    <!-- profile drop down -->

  </button>
  <!-- profile -->

</div>
